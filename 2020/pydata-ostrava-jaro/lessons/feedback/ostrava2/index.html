<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1>Feedback k minulé lekci a dotazům</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2>Oprava sloupců, nulové hodnoty, oddělovač desetinných míst …</h2>
<p>V rámci minulé lekce jsem si ukázali možnost opravy dat v jednom sloupci, který byl zřejmě chybný. Pokud ovšem data přicházejí v nějakém formátu, kterému pandas nerozumí, a formát je konzistentní v celém souboru, je možné opravu zajistit už při načtení souboru. Funkce <code>read_csv</code> má k tomu mnoho možností nastavení.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;static/vaha-vyska.csv&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[2]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Muž;187</th>
      <th>6;109</th>
      <th>72</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Muž;"-";73</td>
      <td>62</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Muž;188</td>
      <td>2;"-"</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Muž;182</td>
      <td>2;99</td>
      <td>81.0</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Muž;"-";93</td>
      <td>6</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Muž;170</td>
      <td>8;69</td>
      <td>4.0</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Muž;174</td>
      <td>7;83</td>
      <td>43.0</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Muž;173</td>
      <td>6;76</td>
      <td>19.0</td>
    </tr>
    <tr>
      <td>7</td>
      <td>Muž;170</td>
      <td>2;79</td>
      <td>8.0</td>
    </tr>
    <tr>
      <td>8</td>
      <td>Muž;161</td>
      <td>2;"-"</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>9</td>
      <td>Žena;154</td>
      <td>8;43</td>
      <td>4.0</td>
    </tr>
    <tr>
      <td>10</td>
      <td>Žena;160</td>
      <td>5;64</td>
      <td>8.0</td>
    </tr>
    <tr>
      <td>11</td>
      <td>Žena;159</td>
      <td>1;46</td>
      <td>65.0</td>
    </tr>
    <tr>
      <td>12</td>
      <td>Žena;157</td>
      <td>7;62</td>
      <td>91.0</td>
    </tr>
    <tr>
      <td>13</td>
      <td>Žena;152</td>
      <td>5;44</td>
      <td>31.0</td>
    </tr>
    <tr>
      <td>14</td>
      <td>Žena;150</td>
      <td>1;50</td>
      <td>14.0</td>
    </tr>
    <tr>
      <td>15</td>
      <td>Žena;168</td>
      <td>1;62</td>
      <td>4.0</td>
    </tr>
    <tr>
      <td>16</td>
      <td>Žena;170</td>
      <td>4;77</td>
      <td>5.0</td>
    </tr>
    <tr>
      <td>17</td>
      <td>Žena;162</td>
      <td>2;58</td>
      <td>28.0</td>
    </tr>
    <tr>
      <td>18</td>
      <td>Žena;175</td>
      <td>3;74</td>
      <td>32.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;static/vaha-vyska.csv&quot;</span><span class="p">,</span>
            <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;;&quot;</span><span class="p">,</span>
            <span class="n">decimal</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span>
            <span class="n">na_values</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span>
            <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;pohlavi&quot;</span><span class="p">,</span> <span class="s2">&quot;vyska&quot;</span><span class="p">,</span> <span class="s2">&quot;vaha&quot;</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[3]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>pohlavi</th>
      <th>vyska</th>
      <th>vaha</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Muž</td>
      <td>187.6</td>
      <td>109.72</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Muž</td>
      <td>NaN</td>
      <td>73.62</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Muž</td>
      <td>188.2</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Muž</td>
      <td>182.2</td>
      <td>99.81</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Muž</td>
      <td>NaN</td>
      <td>93.60</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Muž</td>
      <td>170.8</td>
      <td>69.04</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Muž</td>
      <td>174.7</td>
      <td>83.43</td>
    </tr>
    <tr>
      <td>7</td>
      <td>Muž</td>
      <td>173.6</td>
      <td>76.19</td>
    </tr>
    <tr>
      <td>8</td>
      <td>Muž</td>
      <td>170.2</td>
      <td>79.80</td>
    </tr>
    <tr>
      <td>9</td>
      <td>Muž</td>
      <td>161.2</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>10</td>
      <td>Žena</td>
      <td>154.8</td>
      <td>43.40</td>
    </tr>
    <tr>
      <td>11</td>
      <td>Žena</td>
      <td>160.5</td>
      <td>64.08</td>
    </tr>
    <tr>
      <td>12</td>
      <td>Žena</td>
      <td>159.1</td>
      <td>46.65</td>
    </tr>
    <tr>
      <td>13</td>
      <td>Žena</td>
      <td>157.7</td>
      <td>62.91</td>
    </tr>
    <tr>
      <td>14</td>
      <td>Žena</td>
      <td>152.5</td>
      <td>44.31</td>
    </tr>
    <tr>
      <td>15</td>
      <td>Žena</td>
      <td>150.1</td>
      <td>50.14</td>
    </tr>
    <tr>
      <td>16</td>
      <td>Žena</td>
      <td>168.1</td>
      <td>62.04</td>
    </tr>
    <tr>
      <td>17</td>
      <td>Žena</td>
      <td>170.4</td>
      <td>77.50</td>
    </tr>
    <tr>
      <td>18</td>
      <td>Žena</td>
      <td>162.2</td>
      <td>58.28</td>
    </tr>
    <tr>
      <td>19</td>
      <td>Žena</td>
      <td>175.3</td>
      <td>74.32</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2>Chybové hlášky</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;static/vaha-vyska.cs&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">FileNotFoundError</span>                         Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-4-44e48f4b268f&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>pd<span class="ansi-blue-fg">.</span>read_csv<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#34;static/vaha-vyska.cs&#34;</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">~/.virtualenvs/naucse/lib/python3.7/site-packages/pandas/io/parsers.py</span> in <span class="ansi-cyan-fg">parser_f</span><span class="ansi-blue-fg">(filepath_or_buffer, sep, delimiter, header, names, index_col, usecols, squeeze, prefix, mangle_dupe_cols, dtype, engine, converters, true_values, false_values, skipinitialspace, skiprows, skipfooter, nrows, na_values, keep_default_na, na_filter, verbose, skip_blank_lines, parse_dates, infer_datetime_format, keep_date_col, date_parser, dayfirst, cache_dates, iterator, chunksize, compression, thousands, decimal, lineterminator, quotechar, quoting, doublequote, escapechar, comment, encoding, dialect, error_bad_lines, warn_bad_lines, delim_whitespace, low_memory, memory_map, float_precision)</span>
<span class="ansi-green-intense-fg ansi-bold">    683</span>         )
<span class="ansi-green-intense-fg ansi-bold">    684</span> 
<span class="ansi-green-fg">--&gt; 685</span><span class="ansi-red-fg">         </span><span class="ansi-green-fg">return</span> _read<span class="ansi-blue-fg">(</span>filepath_or_buffer<span class="ansi-blue-fg">,</span> kwds<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    686</span> 
<span class="ansi-green-intense-fg ansi-bold">    687</span>     parser_f<span class="ansi-blue-fg">.</span>__name__ <span class="ansi-blue-fg">=</span> name

<span class="ansi-green-fg">~/.virtualenvs/naucse/lib/python3.7/site-packages/pandas/io/parsers.py</span> in <span class="ansi-cyan-fg">_read</span><span class="ansi-blue-fg">(filepath_or_buffer, kwds)</span>
<span class="ansi-green-intense-fg ansi-bold">    455</span> 
<span class="ansi-green-intense-fg ansi-bold">    456</span>     <span class="ansi-red-fg"># Create the parser.</span>
<span class="ansi-green-fg">--&gt; 457</span><span class="ansi-red-fg">     </span>parser <span class="ansi-blue-fg">=</span> TextFileReader<span class="ansi-blue-fg">(</span>fp_or_buf<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">**</span>kwds<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    458</span> 
<span class="ansi-green-intense-fg ansi-bold">    459</span>     <span class="ansi-green-fg">if</span> chunksize <span class="ansi-green-fg">or</span> iterator<span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">~/.virtualenvs/naucse/lib/python3.7/site-packages/pandas/io/parsers.py</span> in <span class="ansi-cyan-fg">__init__</span><span class="ansi-blue-fg">(self, f, engine, **kwds)</span>
<span class="ansi-green-intense-fg ansi-bold">    893</span>             self<span class="ansi-blue-fg">.</span>options<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#34;has_index_names&#34;</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> kwds<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#34;has_index_names&#34;</span><span class="ansi-blue-fg">]</span>
<span class="ansi-green-intense-fg ansi-bold">    894</span> 
<span class="ansi-green-fg">--&gt; 895</span><span class="ansi-red-fg">         </span>self<span class="ansi-blue-fg">.</span>_make_engine<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>engine<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    896</span> 
<span class="ansi-green-intense-fg ansi-bold">    897</span>     <span class="ansi-green-fg">def</span> close<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">~/.virtualenvs/naucse/lib/python3.7/site-packages/pandas/io/parsers.py</span> in <span class="ansi-cyan-fg">_make_engine</span><span class="ansi-blue-fg">(self, engine)</span>
<span class="ansi-green-intense-fg ansi-bold">   1133</span>     <span class="ansi-green-fg">def</span> _make_engine<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">,</span> engine<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#34;c&#34;</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   1134</span>         <span class="ansi-green-fg">if</span> engine <span class="ansi-blue-fg">==</span> <span class="ansi-blue-fg">&#34;c&#34;</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">-&gt; 1135</span><span class="ansi-red-fg">             </span>self<span class="ansi-blue-fg">.</span>_engine <span class="ansi-blue-fg">=</span> CParserWrapper<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>f<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">**</span>self<span class="ansi-blue-fg">.</span>options<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1136</span>         <span class="ansi-green-fg">else</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   1137</span>             <span class="ansi-green-fg">if</span> engine <span class="ansi-blue-fg">==</span> <span class="ansi-blue-fg">&#34;python&#34;</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">~/.virtualenvs/naucse/lib/python3.7/site-packages/pandas/io/parsers.py</span> in <span class="ansi-cyan-fg">__init__</span><span class="ansi-blue-fg">(self, src, **kwds)</span>
<span class="ansi-green-intense-fg ansi-bold">   1915</span>         kwds<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#34;usecols&#34;</span><span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>usecols
<span class="ansi-green-intense-fg ansi-bold">   1916</span> 
<span class="ansi-green-fg">-&gt; 1917</span><span class="ansi-red-fg">         </span>self<span class="ansi-blue-fg">.</span>_reader <span class="ansi-blue-fg">=</span> parsers<span class="ansi-blue-fg">.</span>TextReader<span class="ansi-blue-fg">(</span>src<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">**</span>kwds<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1918</span>         self<span class="ansi-blue-fg">.</span>unnamed_cols <span class="ansi-blue-fg">=</span> self<span class="ansi-blue-fg">.</span>_reader<span class="ansi-blue-fg">.</span>unnamed_cols
<span class="ansi-green-intense-fg ansi-bold">   1919</span> 

<span class="ansi-green-fg">pandas/_libs/parsers.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.parsers.TextReader.__cinit__</span><span class="ansi-blue-fg">()</span>

<span class="ansi-green-fg">pandas/_libs/parsers.pyx</span> in <span class="ansi-cyan-fg">pandas._libs.parsers.TextReader._setup_parser_source</span><span class="ansi-blue-fg">()</span>

<span class="ansi-red-fg">FileNotFoundError</span>: [Errno 2] File b&#39;static/vaha-vyska.cs&#39; does not exist: b&#39;static/vaha-vyska.cs&#39;</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2>Práce s cestami a aktuální složka</h2>
<h3>Aktuální pracovní adresář</h3>
<p>Je možné zjistit v příkazové řádce příkazem <code>pwd</code> nebo pomocí modulu <code>os</code> v Pythonu.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="err">!</span><span class="n">pwd</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>/home/lbalhar/Dropbox/Projekty/naucse.python.cz/lessons/feedback/ostrava2
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[6]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;/home/lbalhar/Dropbox/Projekty/naucse.python.cz/lessons/feedback/ostrava2&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3>Absolutní a relativní cesty</h3>
<p>Cesta k souboru je buď absolutní nebo relativní. Absolutní cesta obsahuje celou cestu od kořene souborového systému až po soubor samotný. Relativní cesta obsahuje cestu od jednoho souboru k druhému. V relativní cestě tečka <code>.</code> znázorňuje aktuální složku a dvě tečky <code>..</code> složku nadřazenou.</p>
<h4>Příklady absolutních cest</h4>
<ul>
<li><code>/home/hanka/slozka/soubor.txt</code></li>
<li><code>C:\Users\Hanka\slozka\soubor.txt</code></li>
</ul>
<h4>Příklady relativních cest</h4>
<ul>
<li><code>slozka/soubor.txt</code></li>
<li><code>./slozka/soubor.txt</code></li>
<li><code>../../slozka/soubor.txt</code></li>
<li><code>slozka\soubor.txt</code></li>
<li><code>..\..\slozka\soubor.txt</code></li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3>Práce s cestami a spojování</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;složka&quot;</span><span class="p">,</span> <span class="s2">&quot;složka&quot;</span><span class="p">,</span> <span class="s2">&quot;soubor.csv&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[7]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;složka/složka/soubor.csv&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~/slozka/u/me/doma&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[8]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;/home/lbalhar/slozka/u/me/doma&#39;</pre>
</div>

</div>

</div>
</div>

</div>
 

