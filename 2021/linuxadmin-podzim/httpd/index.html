<h1>Úkol – httpd</h1>
<p>Nastav webový server tak, aby soubory z adresáře <code>public_html</code> ve tvém domovském adresáři byly k dispozici pod <code>http//:&lt;adresa&gt;/~&lt;jméno&gt;/</code>, např. <code>http://192.168.122.133/~petr/</code>.
Budeš s tím dva problémy navíc:</p>
<p>Instrukce jsou v souboru <code>/etc/httpd/conf.d/userdir.conf</code>. Komentář v tomhle souboru používá číselnou reprezentaci práv:</p>
<ul>
<li>711 znamená <code>rwx--x--x</code></li>
<li>755 znamená <code>rwxr-xr-x</code></li>
<li>příkaz <code>stat -c '%a %A %n' &lt;soubor&gt;</code> ti pro daný soubor vypíše práva v číselné i „normální“ reprezentaci</li>
<li>Obecně každá číslice ukazuje jednu trojici práv (uživatel, skupina, ostatní) jako součet čísel 1 (<code>x</code>), 2 (<code>w</code>) a 4 (<code>x</code>).</li>
</ul>
<p>Na Fedoře je navíc zapnutý systém SELinux (Security Enhanced Linux), který z bezpečnostních důvodů znemožňuje přístup systémových služeb k uživatelským souborům. Budeou tedy potřeba ještě dva příkazy:</p>
<ul>
<li><code>sudo setsebool -P httpd_enable_homedirs on</code> povolí přístup <code>apache</code> k <code>/home/~/public_html</code></li>
<li><code>sudo restorecon -R /home</code> aktualizuje informace u souborů v <code>/home</code></li>
</ul>
<p>Zajisti, aby ostatní uživatelé na systému neměli přístup ke tvému domovskému adresáři (kromě <code>public_html</code>).</p>
<hr>
<p>Zbývá jen dodat, že takhle se to dnes už nedělá – webové servery bývají
na zvláštních (např. virtuálních) počítačích, kde běží pouze server.
Uživatelé na takovém stroji nemají celé své domovské adresáře, ale jen
obsah ke sdílení přes web.</p>